# SPDX-License-Identifier: (GPL-2.0 OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/mfd/qcom,spmi-pmic.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Qualcomm SPMI PMIC bindings

maintainers:
  - Robert Marko <robimarko@gmail.com>

description: |
  The Qualcomm SPMI series presently includes PM8941, PM8841 and PMA8084
  PMICs.  These PMICs use a QPNP scheme through SPMI interface.
  QPNP is effectively a partitioning scheme for dividing the SPMI extended
  register space up into logical pieces, and set of fixed register
  locations/definitions within these regions, with some of these regions
  specifically used for interrupt handling.

  The QPNP PMICs are used with the Qualcomm Snapdragon series SoCs, and are
  interfaced to the chip via the SPMI (System Power Management Interface) bus.
  Support for multiple independent functions are implemented by splitting the
  16-bit SPMI slave address space into 256 smaller fixed-size regions, 256 bytes
  each. A function can consume one or more of these fixed-size register regions.

properties:
  compatible:
    items:
      - enum:
          - qcom,pm6150
          - qcom,pm6150l
          - qcom,pm6350
          - qcom,pm660
          - qcom,pm660l
          - qcom,pm7325
          - qcom,pm8004
          - qcom,pm8005
          - qcom,pm8009
          - qcom,pm8019
          - qcom,pm8028
          - qcom,pm8110
          - qcom,pm8150
          - qcom,pm8150b
          - qcom,pm8150c
          - qcom,pm8150l
          - qcom,pm8226
          - qcom,pm8350
          - qcom,pm8350b
          - qcom,pm8350c
          - qcom,pm8841
          - qcom,pm8901
          - qcom,pm8909
          - qcom,pm8916
          - qcom,pm8941
          - qcom,pm8950
          - qcom,pm8953
          - qcom,pm8994
          - qcom,pm8998
          - qcom,pma8084
          - qcom,pmd9635
          - qcom,pmi8950
          - qcom,pmi8962
          - qcom,pmi8994
          - qcom,pmi8998
          - qcom,pmk8002
          - qcom,pmk8350
          - qcom,pmm8155au
          - qcom,pmp8074
          - qcom,pmr735a
          - qcom,pmr735b
          - qcom,pms405
          - qcom,smb2351
      - const: qcom,spmi-pmic

  reg:
    description: SPMI USID device address
    maxItems: 1

  '#address-cells':
    const: 1

  '#size-cells':
    const: 0

required:
  - compatible
  - reg

additionalProperties: true

examples:
  - |
    #include <dt-bindings/interrupt-controller/irq.h>
    #include <dt-bindings/spmi/spmi.h>
    spmi {
      #address-cells = <2>;
      #size-cells = <0>;

      pmic@0 {
        compatible = "qcom,pm8941", "qcom,spmi-pmic";
        reg = <0x0 SPMI_USID>;
        #address-cells = <1>;
        #size-cells = <0>;

        rtc@6000 {
          compatible = "qcom,pm8941-rtc";
          reg = <0x6000>, <0x6100>;
          reg-names = "rtc", "alarm";
          interrupts = <0x0 0x61 0x1 IRQ_TYPE_EDGE_RISING>;
        };
      };

      pmic@1 {
        compatible = "qcom,pm8941", "qcom,spmi-pmic";
        reg = <0x1 SPMI_USID>;

        regulators {
          compatible = "qcom,pm8941-regulators";
        };
      };
    };
